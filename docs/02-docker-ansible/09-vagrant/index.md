---
title: 09 Vagrant - Infrastructure as Code
---

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω —á–µ—Ä–µ–∑ Vagrant –∏ IaC –ø–æ–¥—Ö–æ–¥.

---

## üìö –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

#### **[[01-vagrant-basics|01 –í–≤–µ–¥–µ–Ω–∏–µ –≤ Vagrant]]**

**–û—Å–Ω–æ–≤—ã:**
- –ß—Ç–æ —Ç–∞–∫–æ–µ Vagrant –∏ –¥–ª—è —á–µ–≥–æ –Ω—É–∂–µ–Ω
- Infrastructure as Code –ø–æ–¥—Ö–æ–¥
- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- Vagrant vs –ø—Ä–æ—á–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã –∏ VirtualBox
- Vagrantfile –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∏ –±–æ–∫—Å–∏
- SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –º–∞—à–∏–Ω–∞–º

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- VirtualBox (–≥–∏–ø–µ—Ä–≤–∏–∑–æ—Ä)
- Vagrant (–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
- SSH (–¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏

---

#### **[[docs/02-docker-ansible/07-ansible-foundamentals/02-installation|02 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è]]**

**–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–æ –û–°:**
- macOS (brew install vagrant)
- Windows (—Å–∫–∞—á–∞—Ç—å .exe)
- Linux/Ubuntu (apt + PPA)
- Arch Linux (pacman/AUR)

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**
- vagrant version
- VirtualBox –ø—Ä–æ–≤–µ—Ä–∫–∞
- –ü–µ—Ä–≤–∞—è –ø—Ä–æ—Å—Ç–∞—è –º–∞—à–∏–Ω–∞

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- Vagrantfile —Å–∏–Ω—Ç–∞–∫—Å–∏—Å (Ruby)
- –ë–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–∞—à–∏–Ω—ã
- Port forwarding
- SSH –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

---

#### **[[03-machine-lifecycle|03 –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –ú–∞—à–∏–Ω—ã]]**

**–ö–æ–º–∞–Ω–¥—ã Vagrant:**
- vagrant init (—Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥)
- vagrant up (–∑–∞–ø—É—Å—Ç–∏—Ç—å –º–∞—à–∏–Ω—ã)
- vagrant status (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å)
- vagrant ssh (–ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –ø–æ SSH)
- vagrant halt/destroy (–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å)

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã:**
- –ó–∞–ø—É—Å–∫ –æ–¥–Ω–æ–π –º–∞—à–∏–Ω—ã
- –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞ (–Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∞—à–∏–Ω)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- SSH –∫–ª—é—á–∏ –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

---

#### **[[04-cluster-setup|04 –°–æ–∑–¥–∞–Ω–∏–µ –ö–ª–∞—Å—Ç–µ—Ä–∞ –°–µ—Ä–≤–µ—Ä–æ–≤]]**

**–ú–Ω–æ–≥–æ–º–∞—à–∏–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- Vagrantfile —Å —Ü–∏–∫–ª–æ–º (1-5 –º–∞—à–∏–Ω)
- –í—ã–¥–µ–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ (CPU, RAM)
- –°–µ—Ç–µ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞
- Port mapping –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–∞—à–∏–Ω

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Ansible:**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Ansible provisioner
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª–∞—Å—Ç–µ—Ä–∞

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è:**
- 8GB+ RAM –¥–ª—è 1-2 –º–∞—à–∏–Ω
- 16GB+ –¥–ª—è 5-–º–∞—à–∏–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Ç–µ—Ä–∞
- SSD —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

---

#### **[[05-docker-swarm|05 –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Docker Swarm –ö–ª–∞—Å—Ç–µ—Ä–∞]]**

**–†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ Swarm:**
- Docker Swarm –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Manager, Worker)
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Swarm –Ω–∞ manager –Ω–æ–¥–µ
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ worker –Ω–æ–¥ –≤ Swarm
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫–ª–∞—Å—Ç–µ—Ä–∞

**–ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä:**
- Vagrant –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è 5 –º–∞—à–∏–Ω
- Ansible playbook –¥–ª—è Docker + Swarm
- –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞:**
- docker node ls (—Å–ø–∏—Å–æ–∫ –Ω–æ–¥)
- docker service ls (—Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–∏—Å–æ–≤)
- –õ–æ–≥–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ Swarm
- –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏

---

## üîó –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–∞–∑–¥–µ–ª–∞

```
09-Vagrant: Infrastructure as Code (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
‚îú‚îÄ‚îÄ 01 –í–≤–µ–¥–µ–Ω–∏–µ –≤ Vagrant
‚îú‚îÄ‚îÄ 02 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ 03 –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –ú–∞—à–∏–Ω—ã
‚îú‚îÄ‚îÄ 04 –°–æ–∑–¥–∞–Ω–∏–µ –ö–ª–∞—Å—Ç–µ—Ä–∞ –°–µ—Ä–≤–µ—Ä–æ–≤
‚îî‚îÄ‚îÄ 05 –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Docker Swarm –ö–ª–∞—Å—Ç–µ—Ä–∞
```

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –ö–æ–Ω—Ü–µ–ø—Ü–∏–∏

**Infrastructure as Code:**
```
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ –∫–æ–¥–µ ‚Üí –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Git ‚Üí 
–ü–æ–≤—Ç–æ—Ä—è–µ–º–æ—Å—Ç—å ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è ‚Üí –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
```

**Vagrant Workflow:**
```
Vagrantfile ‚Üí vagrant up ‚Üí VMs Ready ‚Üí
Ansible Provisioning ‚Üí Services Running ‚Üí Swarm Cluster
```

**–ö–ª–∞—Å—Ç–µ—Ä –∏–∑ 5 –º–∞—à–∏–Ω:**
```
Manager Node (1)  ‚îÄ Orchestration
‚îú‚îÄ Worker Node 1
‚îú‚îÄ Worker Node 2
‚îú‚îÄ Worker Node 3
‚îî‚îÄ Worker Node 4
```

---

## üíæ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

**–ù–∞ —Ö–æ—Å—Ç–º–∞—à–∏–Ω–µ:**
- VirtualBox 6.0+ (–≥–∏–ø–µ—Ä–≤–∏–∑–æ—Ä)
- Vagrant 2.3+ (–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è)
- SSH –∫–ª–∏–µ–Ω—Ç (–≤—Å—Ç—Ä–æ–µ–Ω –≤–µ–∑–¥–µ)
- RAM 8GB+ (–¥–ª—è 1-2 –º–∞—à–∏–Ω)
- RAM 16GB+ (–¥–ª—è 5+ –º–∞—à–∏–Ω)

**–ù–∞ –∫–∞–∂–¥–æ–π –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:**
- Ubuntu 20.04+ –∏–ª–∏ CentOS 7+
- 1-2 CPU
- 1-2 GB RAM
- 20GB –¥–∏—Å–∫–∞

---

## ‚úÖ Checklist

**–ü–æ—Å–ª–µ –∏–∑—É—á–µ–Ω–∏—è —Ä–∞–∑–¥–µ–ª–∞:**
- ‚úÖ –ü–æ–Ω–∏–º–∞–µ—à—å Infrastructure as Code –ø–æ–¥—Ö–æ–¥
- ‚úÖ Installed Vagrant –∏ VirtualBox
- ‚úÖ –°–æ–∑–¥–∞–ª –∏ –∑–∞–ø—É—Å—Ç–∏–ª –ø–µ—Ä–≤—É—é –º–∞—à–∏–Ω—É
- ‚úÖ –°–æ–∑–¥–∞–ª –º–Ω–æ–≥–æ–º–∞—à–∏–Ω–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä (1-5 –º–∞—à–∏–Ω)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–ª Ansible —Å Vagrant
- ‚úÖ –†–∞–∑–≤–µ—Ä–Ω—É–ª Docker –Ω–∞ –∫–ª–∞—Å—Ç–µ—Ä–µ
- ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–ª Docker Swarm
- ‚úÖ –ì–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

---

## üöÄ –ß—Ç–æ –î–∞–ª—å—à–µ

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫:
- **–†–∞–∑–¥–µ–ª 10:** Docker Swarm –∏ –û—Ä–∫–µ—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–†–∞–∑–¥–µ–ª 11:** Kubernetes (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ)
- **–†–∞–∑–¥–µ–ª 12:** Production Deployment

---

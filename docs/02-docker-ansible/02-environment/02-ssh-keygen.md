### Linux Essentials: SSH и базовые команды

#### SSH ключи для безпарольного доступа

**Зачем нужны SSH ключи:**

- **Безпарольный доступ:** Автоматическая аутентификация без ввода пароля.
- **Безопасность:** Криптографические ключи надежнее паролей.
- **Автоматизация:** Необходимо для Ansible и инструментов деплоя.

---

**1. Сгенерировать SSH ключ:**

```bash
ssh-keygen -t ed25519 -C "your-email@example.com"
```

**Результат:**
- Спросит где сохранить (по умолчанию `~/.ssh/id_ed25519`).
- Спросит пароль (можно оставить пустым).
- Создаст `id_ed25519` (приватный) и `id_ed25519.pub` (публичный).

**Приватный ключ** остаётся у тебя. **Публичный ключ** добавляешь на сервера.

---

**2. Скопировать публичный ключ на сервер:**

```bash
ssh-copy-id -i ~/.ssh/id_ed25519.pub -p 2222 username@127.0.0.1
```

**Результат:** Публичный ключ добавится в `~/.ssh/authorized_keys` на VM.

---

**3. Проверить SSH без пароля:**

```bash
ssh username@127.0.0.1 -p 2222
```

**Результат:** Подключится без запроса пароля.

---

**4. Добавить SSH ключ в SSH agent (для удобства):**

```bash
eval "$(ssh-agent -s)"
ssh-add ~/.ssh/id_ed25519
```

**Результат:** SSH agent запомнит ключ и не будет запрашивать пароль.

---

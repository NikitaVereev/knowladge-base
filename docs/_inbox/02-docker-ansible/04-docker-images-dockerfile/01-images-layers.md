---
title: 01 Docker –æ–±—Ä–∞–∑—ã –∏ —Å–ª–æ–∏
---

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ Docker –æ–±—Ä–∞–∑–æ–≤, –∫–∞–∫ –æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–º–∏.

---

## –ß—Ç–æ —Ç–∞–∫–æ–µ Docker Image

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:**
- –û–±—Ä–∞–∑ Docker ‚Äî —ç—Ç–æ —à–∞–±–ª–æ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –≤—Å—ë –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –û–±—Ä–∞–∑—ã —Å–æ—Å—Ç–æ—è—Ç –∏–∑ **—Å–ª–æ—ë–≤ (layers)**
- –ö–∞–∂–¥—ã–π —Å–ª–æ–π ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Å–ª–æ—è

**–û–±—Ä–∞–∑ —Å–æ–¥–µ—Ä–∂–∏—Ç:**
- –ë–∞–∑–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (–∏–ª–∏ –µ—ë —á–∞—Å—Ç—å)
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –µ–≥–æ –∫–æ–¥
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–ª–æ—ë–≤

**Immutable —Å–ª–æ–∏:**
- –í—Å–µ —Å–ª–æ–∏ –≤ –æ–±—Ä–∞–∑–µ –¥–æ—Å—Ç—É–ø–Ω—ã **—Ç–æ–ª—å–∫–æ –¥–ª—è —á—Ç–µ–Ω–∏—è**
- –ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–ª–æ–π
- –ö–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π —Å–ª–æ–π

**Writable layer (–ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞):**
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–≤–µ—Ä—Ö—É –æ–¥–∏–Ω —Å–ª–æ–π –¥–ª—è –∑–∞–ø–∏—Å–∏
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —ç—Ç–æ–º —Å–ª–æ–µ
- –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —ç—Ç–æ—Ç —Å–ª–æ–π —Ç–æ–∂–µ —É–¥–∞–ª—è–µ—Ç—Å—è

**–î–∏–∞–≥—Ä–∞–º–º–∞ —Å–ª–æ—ë–≤:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Writable Layer      ‚îÇ  ‚Üê –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä
‚îÇ  (–ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ)       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Layer 6             ‚îÇ  ‚Üê –û–±—Ä–∞–∑ (readonly)
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Layer 5             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Layer 4             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Layer 3             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Layer 2             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Layer 1 (Base)      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## Layer Identifier

**–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã:**
- –ö–∞–∂–¥—ã–π —Å–ª–æ–π –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π SHA256 —Ö–µ—à
- –ü—Ä–∏–º–µ—Ä: `sha256:abc123def456...`
- –•–µ—à –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å–ª–æ—è

**–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–ª–æ—ë–≤:**
- Docker –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Å–ª–æ–∏ –∏ –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö
- –ï—Å–ª–∏ –¥–≤–∞ –æ–±—Ä–∞–∑–∞ –∏–º–µ—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Å–ª–æ–π, –æ–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑
- –≠–∫–æ–Ω–æ–º–∏—Ç –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ

---

## Overlay File System

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–ª–æ—ë–≤:**
- Overlay FS –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ª–æ—ë–≤ –≤ –æ–¥–∏–Ω
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—ã–π –≤–∏–¥ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
- –ë—ã—Å—Ç—Ä–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –±–µ–∑ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–∏–º–µ—Ä Nginx:**
```bash
docker pull nginx
docker history nginx
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: 6 —Å–ª–æ—ë–≤ Nginx –æ–±—Ä–∞–∑–∞:
1. Base Linux (–Ω–∞–ø—Ä–∏–º–µ—Ä, Debian)
2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤
3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Nginx
5. –°–∫—Ä–∏–ø—Ç—ã
6. –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞

–†–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ.

---

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–±—Ä–∞–∑–∞–º–∏

**–ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤:**
```bash
docker image ls                                    # –≤—Å–µ –æ–±—Ä–∞–∑—ã
docker image ls --filter "dangling=false"         # —Ç–æ–ª—å–∫–æ —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
docker image ls --format "{{.Repository}}\t{{.Tag}}\t{{.Size}}"   # –∫–∞—Å—Ç–æ–º–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
```

**–ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—Ä–∞–∑–∞:**
```bash
docker pull nginx                                  # –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞
docker pull nginx:latest                          # –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ–≥
docker pull ubuntu:22.04
```

**–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–±—Ä–∞–∑–µ:**
```bash
docker inspect nginx                              # JSON —Å–æ –≤—Å–µ–º–∏ –¥–µ—Ç–∞–ª—è–º–∏
docker inspect --format '{{.Config.Env}}' nginx   # –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –ø–æ–ª–µ
```

**–ò—Å—Ç–æ—Ä–∏—è —Å–ª–æ—ë–≤:**
```bash
docker history nginx                              # –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ —Å–ª–æ–∏ –∏ –∫–æ–º–∞–Ω–¥—ã
docker history --no-trunc nginx                   # –ø–æ–ª–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –±–µ–∑ –æ–±—Ä–µ–∑–∫–∏
```

---

## –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –æ–±—Ä–∞–∑–æ–≤

**–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–±—Ä–∞–∑ –≤ —Ñ–∞–π–ª:**
```bash
docker save nginx > nginx.tar                      # —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ tar –∞—Ä—Ö–∏–≤
docker save -o nginx.tar nginx:latest              # —Å —Ñ–ª–∞–≥–æ–º -o
```

**–ó–∞–≥—Ä—É–∑–∏—Ç—å –æ–±—Ä–∞–∑ –∏–∑ —Ñ–∞–π–ª–∞:**
```bash
docker load < nginx.tar                            # –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ –∞—Ä—Ö–∏–≤–∞
docker load -i nginx.tar                           # —Å —Ñ–ª–∞–≥–æ–º -i
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ü–µ—Ä–µ–Ω–æ—Å –æ–±—Ä–∞–∑–æ–≤ –º–µ–∂–¥—É –º–∞—à–∏–Ω–∞–º–∏ –±–µ–∑ —Ä–µ–µ—Å—Ç—Ä–∞
- –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤
- –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤

---

## –≠–∫–æ–Ω–æ–º–∏—è –º–µ—Å—Ç–∞

**–û–±—â–∏–µ —Å–ª–æ–∏:**
```bash
# –ï—Å–ª–∏ –µ—Å—Ç—å –¥–≤–∞ –æ–±—Ä–∞–∑–∞ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –±–∞–∑–æ–≤—ã–º —Å–ª–æ–µ–º
# Docker —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —ç—Ç–æ—Ç —Å–ª–æ–π –æ–¥–∏–Ω —Ä–∞–∑

docker image ls                    # –ø—Ä–æ—Å–º–æ—Ç—Ä –æ–±—Ä–∞–∑–æ–≤
sudo du -sh /var/lib/docker/           # –æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–æ–≤
```

**–£–¥–∞–ª–µ–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤:**
```bash
docker image rm nginx                              # —É–¥–∞–ª–∏—Ç—å –æ–±—Ä–∞–∑
docker image rm nginx:latest ubuntu:22.04          # –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–±—Ä–∞–∑–æ–≤
docker image rm -f nginx                           # –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
```

**–í–∏—Å—è—â–∏–µ –æ–±—Ä–∞–∑—ã (dangling images):**
- –û–±—Ä–∞–∑—ã –±–µ–∑ –∏–º–µ–Ω–∏/—Ç–µ–≥–∞ (–æ—Å—Ç–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è)
- –ù–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
- –¢—Ä–∞—Ç—è—Ç –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫

```bash
docker image ls -f "dangling=true"                # –Ω–∞–π—Ç–∏ –≤–∏—Å—è—â–∏–µ –æ–±—Ä–∞–∑—ã
docker image prune                                 # —É–¥–∞–ª–∏—Ç—å –≤–∏—Å—è—â–∏–µ –æ–±—Ä–∞–∑—ã
docker image prune -a                              # —É–¥–∞–ª–∏—Ç—å –≤—Å–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ
```

---

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: Nginx

**1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –æ–±—Ä–∞–∑:**
```bash
docker pull nginx
```

**2. –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–ª–æ–∏:**
```bash
docker history nginx
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:
```
IMAGE          CREATED      CREATED BY                               SIZE
sha256:12a...  5 days ago   /bin/sh -c #(nop)  CMD ["nginx"...]     0B
sha256:34b...  5 days ago   /bin/sh -c #(nop)  EXPOSE 80            0B
sha256:56c...  5 days ago   /bin/sh -c #(nop)  COPY file:...        1.04kB
sha256:78d...  5 days ago   /bin/sh -c apt-get install -y nginx     45MB
...
```

**3. –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–±—Ä–∞–∑–µ:**
```bash
docker inspect nginx | head -30
```

**4. –†–∞–∑–º–µ—Ä –æ–±—Ä–∞–∑–∞:**
```bash
docker image ls nginx
# REPOSITORY   TAG      IMAGE ID        SIZE
# nginx        latest   sha256:12a...   187MB
```

---

## –ü–µ—Ä–µ–Ω–æ—Å –æ–±—Ä–∞–∑–∞ –º–µ–∂–¥—É –º–∞—à–∏–Ω–∞–º–∏

**–ù–∞ –º–∞—à–∏–Ω–µ 1 (–∏—Å—Ç–æ—á–Ω–∏–∫):**
```bash
docker save myapp:1.0 | gzip > myapp-1.0.tar.gz
```

**–ù–∞ –º–∞—à–∏–Ω–µ 2 (–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ):**
```bash
gunzip -c myapp-1.0.tar.gz | docker load
docker image ls   # myapp:1.0 –±—É–¥–µ—Ç –≤ —Å–ø–∏—Å–∫–µ
```

---

## Best Practices

‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π alpine –æ–±—Ä–∞–∑—ã** ‚Äî –º–µ–Ω—å—à–µ —Ä–∞–∑–º–µ—Ä  
‚úÖ **–ö—ç—à–∏—Ä—É–π —Å–ª–æ–∏** ‚Äî –∏–∑–º–µ–Ω—è—é—â–∏–π—Å—è –∫–æ–¥ –≤ –∫–æ–Ω—Ü–µ Dockerfile  
‚úÖ **–£–¥–∞–ª—è–π –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã** ‚Äî —ç–∫–æ–Ω–æ–º—å –º–µ—Å—Ç–æ  
‚úÖ **–¢–µ–≥–∏ –¥–ª—è –≤–µ—Ä—Å–∏—Ü–∏–π** ‚Äî –ª–µ–≥—á–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –≤–µ—Ä—Å–∏—è–º–∏  
‚úÖ **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–π –æ–±—Ä–∞–∑—ã** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π `docker history` –∏ Dive tool  

---

## üîó –°–≤—è–∑–∏

**–°–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª:**
- [[02-dockerfile-basics|02 Dockerfile - –æ—Å–Ω–æ–≤—ã]]

---
title: "Введение в Docker Compose"
description: "Что такое Docker Compose, синтаксис YAML и управление многоконтейнерными приложениями."
---


Docker Compose — это инструмент для описания и запуска многоконтейнерных приложений. Вместо того чтобы запускать каждый контейнер отдельной командой `docker run`, вы описываете всю инфраструктуру в одном файле `docker-compose.yml`.

## Преимущества
* **Декларативность:** Вся инфраструктура описана в коде (IaC).
* **Сетевая магия:** Compose автоматически создает сеть и позволяет контейнерам общаться по именам сервисов.
* **Изоляция:** Легко поднять изолированные окружения (dev, test) на одной машине.

## Синтаксис YAML
Compose использует формат YAML. Важные правила:
* Используйте пробелы (2 или 4), **не табуляцию**.
* Строгая иерархия отступов.
* Списки обозначаются дефисом `-`.

## Структура docker-compose.yml

```yaml
services:       # Описание контейнеров
  webapp:       # Имя сервиса (будет DNS-именем)
    image: nginx:latest
    ports:
      - "8080:80"
    volumes:
      - ./html:/usr/share/nginx/html
    depends_on:
      - database

  database:
    image: postgres:15
    environment:
      POSTGRES_PASSWORD: secret

volumes:        # Именованные тома
  db-data:

networks:       # Кастомные сети (опционально)
  backend:
```

## Сетевое взаимодействие
По умолчанию Compose создает одну сеть для всех сервисов.
* Сервис `webapp` может обратиться к базе данных просто по имени хоста: `database` (или `postgres://database:5432`).
* Порты, не указанные в секции `ports`, недоступны с хост-машины, но доступны внутри сети Docker.

## Связанные материалы
- [[devops/docker/tutorials/compose-stacks|Примеры стеков (Node, Python, Postgres)]]
- [[devops/docker/how-to/manage-compose-apps|Команды управления (up, down, logs)]]

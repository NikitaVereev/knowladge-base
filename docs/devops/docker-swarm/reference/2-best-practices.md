---
title: "2 Best Practices"
description: "Советы по эксплуатации Docker Swarm в продакшене."
---

## Менеджеры
*   **Количество:** Всегда используйте нечетное число (1, 3, 5). 3 — золотой стандарт.
*   **Ресурсы:** Не нагружайте менеджеры приложениями. Переведите их в режим `Drain`, чтобы они занимались только управлением.
    ```bash
    docker node update --availability drain <manager-node>
    ```

## Безопасность
*   **Секреты:** Используйте `docker secret` вместо ENV переменных.
*   **TLS:** Swarm шифрует управляющий трафик по умолчанию. Включите шифрование для данных приложений (`--opt encrypted`) только если доверяете сети.

## Развертывание
*   **Tags:** Никогда не используйте тег `:latest` в продакшене. Всегда фиксируйте версии (`:v1.2.3`).
*   **Limits:** Всегда задавайте лимиты ресурсов (CPU/RAM) в `deploy.resources`. Один утекающий контейнер не должен убить ноду.
    ```yaml
    deploy:
      resources:
        limits:
          cpus: '0.50'
          memory: 512M
    ```

## Связанные материалы
- [[1-cli-commands|Справочник команд]]
- [[docs/devops/docker-swarm/explanation/1-architecture|Понимание архитектуры для правильного сайзинга]]

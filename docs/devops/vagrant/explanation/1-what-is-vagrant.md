---
title: "1 Что такое Vagrant"
description: "Объяснение концепции Infrastructure as Code, архитектуры Vagrant и его места в экосистеме разработки."
---

Vagrant — это инструмент для построения и управления виртуальными средами разработки. Он выступает как прослойка (оркестратор) между вами и системой виртуализации (например, VirtualBox), позволяя описывать инфраструктуру декларативным кодом.

## Концепция Infrastructure as Code (IaC)

Vagrant решает проблему "на моем компьютере это работает", заменяя ручную настройку ВМ на конфигурационный файл `Vagrantfile`.

*   **Декларативность:** Вы описываете *что* хотите получить (ОС Ubuntu, 2 ГБ RAM, IP 10.0.0.5), а Vagrant берет на себя задачу *как* это сделать.
*   **Воспроизводимость:** Один и тот же `Vagrantfile` создаст идентичные среды на Windows, macOS и Linux.

## Архитектура Vagrant

Vagrant не является гипервизором. Он управляет гипервизорами.

```text
[ User ] -> [ CLI (vagrant up) ] -> [ Vagrant Core ] -> [ Provider (VirtualBox) ] -> [ VM ]
                                           ^
                                           |
                                     Vagrantfile
```

### Основные компоненты

1.  **Provider (Провайдер):** Технология, которая запускает виртуальные машины.
    *   *Примеры:* VirtualBox (стандарт), VMware, Hyper-V, Libvirt, Docker.
2.  **Box (Бокс):** Предварительно собранный образ операционной системы. Это аналог "образа диска" или Docker image. Боксы скачиваются из облачного репозитория Vagrant Cloud.
3.  **Provisioner (Провижинер):** Инструмент, который настраивает систему *после* запуска (устанавливает пакеты, правит конфиги).
    *   *Примеры:* Shell-скрипты, Ansible, Chef, Puppet.

## Зачем использовать Vagrant?

В отличие от Docker, который изолирует *процессы* (приложения), Vagrant изолирует *операционные системы*. Это делает его идеальным для:

*   **Разработки инфраструктуры:** Тестирование скриптов настройки серверов, Ansible ролей, сетевых конфигураций.
*   **Разработки ядра/ОС:** Когда нужен доступ к параметрам ядра, недоступным в контейнерах.
*   **Изоляции легаси-проектов:** Запуск старых стеков (PHP 5.6, MySQL 5.5) в среде, полностью отделенной от вашего ноутбука.

---
title: "3 Сетевая архитектура в Vagrant"
description: "Понимание типов сетей: NAT, Private Network и Public Network. Как они работают и для чего нужны."
---

Vagrant предоставляет высокоуровневые абстракции для настройки сети, скрывая сложность конфигурации виртуальных адаптеров.

## 1. NAT и Проброс портов (Port Forwarding)

По умолчанию каждая ВМ в Vagrant находится за NAT (Network Address Translation). Она имеет доступ в интернет через ваш хост, но извне (с вашего хоста) она недоступна по IP.

Чтобы получить доступ к сервисам внутри, используется **Port Forwarding**. Vagrant "слушает" порт на вашем компьютере и пересылает трафик внутрь ВМ.

*   **Сценарий:** Вы разрабатываете веб-сайт. Веб-сервер внутри ВМ на порту 80. Вы пробрасываете его на порт 8080 хоста и открываете `localhost:8080` в браузере.

## 2. Частная сеть (Private Network / Host-only)

Это создание виртуального коммутатора, к которому подключены только ваш компьютер и виртуальные машины. Внешний мир (интернет) не имеет доступа к этой сети.

*   **Особенность:** Машины получают фиксированные статические IP (например, `192.168.56.10`).
*   **Сценарий:** Кластер серверов (Web + DB). Вы хотите, чтобы Web-сервер подключался к базе данных по постоянному IP, который не меняется при перезагрузке.
*   **Безопасность:** Высокая. Доступ только с вашего компьютера.

## 3. Публичная сеть (Public Network / Bridged)

Виртуальная машина подключается к вашему физическому роутеру (Wi-Fi или Ethernet) как отдельное независимое устройство.

*   **Особенность:** ВМ получает IP-адрес от вашего реального DHCP-сервера (роутера). Она становится видна всем устройствам в вашей локальной сети (телефону, ноутбуку коллеги).
*   **Сценарий:** Вы хотите проверить сайт с мобильного телефона, подключенного к тому же Wi-Fi.
*   **Безопасность:** Низкая. В открытых сетях (кафе) ваша ВМ доступна всем.

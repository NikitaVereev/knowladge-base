---
title: "3 Основы Ansible Inventory"
description: "Что такое инвентарь, форматы INI и YAML, группировка хостов и переменные."
---

Инвентарь (Inventory) — это источник истины для Ansible. В нем описано, **какими** серверами нужно управлять, **как** к ним подключаться и какие **переменные** использовать.

## Форматы файлов

### INI (Классический)
Самый простой формат. Удобен для быстрых тестов, но плохо читается при сложной вложенности.
```ini
[webservers]
web1.example.com
web2.example.com ansible_port=2222

[db]
db1.example.com

[production:children]
webservers
db
```

### YAML (Рекомендуемый)
Более структурированный и читаемый формат. Поддерживает сложные типы данных (списки, словари) и является стандартом для современных проектов.

```yaml
all:
  vars:
    ansible_user: admin  # Общая переменная для всех
  children:
    webservers:
      hosts:
        web1.example.com:
        web2.example.com:
          ansible_port: 2222  # Переопределение порта для конкретного хоста
      vars:
        http_port: 80
    db:
      hosts:
        db1.example.com:
```

## Группы и Переменные
*   **Группировка:** Позволяет применять задачи сразу к множеству серверов (например, "обновить все `webservers`").
*   **Host Vars:** Переменные для конкретного хоста (IP, специфичный порт).
*   **Group Vars:** Переменные для всей группы (версия приложения, окружение).

> **Best Practice:** Не храните сложные переменные внутри файла инвентаря. Используйте директории `group_vars/` и `host_vars/` рядом с файлом инвентаря.

---
title: "Основы Ansible Inventory"
description: "Что такое инвентарь, форматы INI и YAML, группировка хостов и переменные."
---


Инвентарь (Inventory) — это источник истины для Ansible. В нем описано, **какими** серверами нужно управлять и **как** к ним подключаться.

## Типы инвентаря
1. **Статический:** Текстовый файл (`hosts.ini` или `hosts.yaml`), который вы редактируете вручную. Подходит для небольших и стабильных инфраструктур.
2. **Динамический:** Скрипт или плагин, который опрашивает облако (AWS, Google Cloud, VMware) и строит список хостов на лету. Подходит для облачных сред, где серверы создаются и удаляются автоматически.

## Форматы файлов

### INI (Классический)
Самый простой формат. Удобен для быстрых тестов.
```ini
[webservers]
web1.example.com
web2.example.com

[databases]
db1.example.com

[webservers:vars]
http_port=80
```

### YAML (Рекомендуемый)
Более структурированный и читаемый формат. Поддерживает сложные типы данных (списки, словари).
```yaml
all:
  children:
    webservers:
      hosts:
        web1.example.com:
        web2.example.com:
      vars:
        http_port: 80
    databases:
      hosts:
        db1.example.com:
```

## Группы и Переменные
* **Группировка:** Позволяет применять задачи сразу к множеству серверов (например, "обновить все `webservers`").
* **Переменные:** Можно задавать специфичные настройки для хоста (IP, порт) или для всей группы (версия приложения).

> **Best Practice:** Используйте YAML для новых проектов. Он лучше читается и позволяет избежать ошибок парсинга сложных переменных.

## Связанные материалы
- [[devops/ansible/how-to/configure-inventory|Настройка файла инвентаря]]

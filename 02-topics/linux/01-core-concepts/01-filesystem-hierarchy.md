---
created: 2026-01-05
updated: 2026-01-05
type: reference
---

# Файловая система

## Структура

```
/                    root, корень файловой системы
├── bin/             основные команды (ls, cp, grep, etc)
├── sbin/            системные команды (root только)
├── boot/            kernel и bootloader
├── dev/             файлы устройств (диски, терминалы)
├── etc/             конфигурационные файлы системы
├── home/            домашние папки пользователей
├── root/            домашняя папка root пользователя
├── lib/, lib64/     системные библиотеки
├── usr/             пользовательские программы
│   ├── bin/         пользовательские команды
│   ├── sbin/        пользовательские сис. команды
│   ├── local/       локально установленное ПО
│   └── share/       документация, данные
├── var/             переменные данные
│   ├── log/         логи системы
│   ├── cache/       кэши
│   └── tmp/         временные файлы приложений
├── tmp/             временные файлы пользователей
├── proc/            информация о процессах (виртуальная ФС)
├── sys/             информация о системе (виртуальная ФС)
├── run/             runtime данные
├── opt/             программы третьих сторон
└── mnt/, media/     точки монтирования
```

**Стандарт:** FHS (Filesystem Hierarchy Standard). Одинаков на всех дистрибутивах.

---

## Основные команды

### Навигация

```bash
pwd                          # текущая директория
ls                           # список файлов
ls -la                       # список со всеми деталями
ls -lh                       # размеры в человеческом формате
cd /path/to/dir              # смена директории
cd ~                         # в домашнюю папку
cd -                         # в предыдущую папку
cd ..                        # на уровень выше
```

### Просмотр файлов

```bash
cat /path/to/file            # вывести содержимое файла
head -n 10 file              # первые 10 строк
tail -n 10 file              # последние 10 строк
tail -f file                 # просмотр в реальном времени
less file                    # постраничный просмотр (q для выхода)
file file.txt                # тип файла
```

### Управление файлами

```bash
touch file.txt               # создать пустой файл
mkdir dir                    # создать папку
mkdir -p a/b/c               # создать вложенные папки
cp file1 file2               # копировать файл
cp -r dir1 dir2              # копировать папку рекурсивно
mv old_name new_name         # переименовать/переместить
rm file                      # удалить файл
rm -r dir                    # удалить папку рекурсивно
rm -f file                   # принудительно удалить
rmdir dir                    # удалить пустую папку
```

### Поиск

```bash
find /path -name "*.txt"     # найти файлы по названию
find /path -type f -size +1M # найти файлы больше 1MB
find /path -user username    # найти файлы пользователя
locate filename              # быстрый поиск (требует updatedb)
grep "text" file             # найти строки в файле
grep -r "text" /path         # рекурсивный поиск
```

### Информация о файловой системе

```bash
df -h                        # использование дискового пространства
du -sh /path                 # размер папки
du -sh * | sort -h           # размер файлов/папок, отсортировано
mount                        # смонтированные системы
lsblk                        # информация о дисках
fdisk -l                     # детали разделов
```

### Права доступа

```bash
stat file                    # детали файла (включая права)
ls -l file                   # показать права в формате
chmod 644 file               # изменить права
chown user:group file        # изменить владельца
```

---

## Абсолютные и относительные пути

### Абсолютные (начинаются с `/`)

```bash
/home/user/documents         # полный путь от корня
/etc/config                  # конфиг в /etc
```

Работают из любой директории.

### Относительные (от текущей позиции)

```bash
./file                       # файл в текущей папке
../file                      # файл на уровень выше
../../dir/file               # два уровня выше
./dir/file                   # в подпапке текущей папки
```

Работают только из текущей директории.

---

## Символические ссылки

```bash
ln -s /path/to/original link_name    # создать символическую ссылку
ls -l                                # ссылка показывается стрелкой ->
rm link_name                         # удалить ссылку (не оригинал!)
```

Полезно для:
- Доступа к файлам из других мест
- Альтернативных имён
- Версионирования

---

## Скрытые файлы и папки

**Начинаются с точки:**
```bash
.bashrc              # конфиг shell
.config/             # конфиги приложений
.ssh/                # SSH ключи
.git/                # Git данные
```

**Просмотр:**
```bash
ls -a                # показать все, включая скрытые
ls -la               # с деталями
```

---

## Типы файлов

| Символ | Тип | Команда |
|--------|-----|---------|
| `-` | Обычный файл | `file` |
| `d` | Директория | `cd` |
| `l` | Символическая ссылка | `ln -s` |
| `b` | Блочное устройство | `/dev/sda` |
| `c` | Символьное устройство | `/dev/tty` |
| `s` | Socket | для IPC |
| `p` | FIFO/pipe | для ввода-вывода |

Проверить: `ls -l` — первый символ показывает тип.

---

## Проблемы и решения

### Файл/папка не найдена

```bash
find ~ -name "filename"      # поищите везде в home
locate filename              # быстрый поиск
whereis command              # где находится команда
```

### Нет доступа к файлу

```bash
ls -l file                   # проверьте права
# Если вы владелец:
chmod u+r file               # добавить себе права на чтение

# Если нужен root:
sudo cat file
```

### Случайно удалили файл

```bash
# В Linux нет "Корзины" для rm
# Восстановление сложно и требует специнструментов
# Профилактика:
alias rm='rm -i'             # подтверждение перед удалением
```

### Запутались в директориях

```bash
pwd                          # где я сейчас?
cd ~                         # вернись домой
ls -la                       # что здесь?
```

### Дисковое пространство кончилось

```bash
df -h                        # где всё место?
du -sh * | sort -rh          # что занимает больше всего?
sudo du -sh /var/log/*       # часто логи занимают место
```

---

## Шпаргалка по путям

```bash
~                            # домашняя папка текущего пользователя
/                            # корень системы
/home/user                   # домашняя папка конкретного пользователя
/root                        # домашняя папка root
/etc                         # системные конфиги
/var/log                     # логи системы
/tmp                         # временные файлы
/opt                         # программы третьих сторон
.                            # текущая директория
..                           # родительская директория
```

---

## Дальше

[Пользователи и права](./02-users-groups-permissions.md)
